<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/pokeball.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PokÃ©dex - Vite</title>
  </head>
  <body>
    <div class="wrap">
      <aside class="shell" aria-label="Pokedex controls">
        <div class="top">
          <div class="logo">POKÃ‰</div>
          <div class="screen">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <strong id="pdex-title">Pokedex Explorer</strong>
                <div style="font-size:12px;color:var(--muted)">Conectado a PokeAPI</div>
              </div>
              <div style="text-align:right"><small id="api-status">Online</small></div>
            </div>
          </div>
        </div>

        <div class="search">
          <input id="search-input" type="text" placeholder="Buscar por nombre o id (ej. pikachu Ã³ 25)" autocomplete="off" />
          <button id="search-btn" title="Buscar">ðŸ”Ž</button>
          <div id="autocomplete" class="autocomplete" aria-hidden="true"></div>
        </div>

        <div class="controls">
          <label style="color:var(--accent);font-weight:700">Explorar recursos</label>
          <select id="resource-select"></select>
          <input id="resource-id" type="text" placeholder="id o nombre (opcional)" />
          <div style="display:flex;gap:8px">
            <button id="fetch-btn">Fetch</button>
            <button id="list-btn">List (pag)</button>
          </div>
          <div style="display:flex;gap:8px">
            <button id="random-pokemon">Aleatorio</button>
            <button id="first-151">Primera gen (1-151)</button>
          </div>
        </div>

        <div style="margin-top:auto"><small>Hecho con <a href="https://pokeapi.co/" target="_blank" style="color:var(--accent)">PokeAPI</a>. Usa el selector para explorar cualquier endpoint.</small></div>
      </aside>

      <main class="panel">
        <div class="pokemon-header">
          <div class="main-sprite" id="main-sprite">â€”</div>
          <div class="info">
            <div class="title"><span id="pokemon-name">No PokÃ©mon cargado</span> <span class="id" id="pokemon-id"></span></div>
            <div class="types" id="pokemon-badges"></div>
            <div id="pokemon-basic" style="margin-top:8px;color:var(--muted)"></div>
          </div>
          <div style="width:220px">
            <div style="font-weight:700;color:var(--accent);margin-bottom:8px">Sprites</div>
            <div class="thumbs" id="sprite-list"></div>
          </div>
        </div>

        <div style="display:grid;grid-template-columns:1fr 400px;gap:18px;margin-top:12px">
          <div>
            <div class="card">
              <div style="font-weight:700;color:var(--accent);margin-bottom:6px">Stats & Habilidades</div>
              <div id="stats-abilities"></div>
              <div style="font-weight:700;color:var(--accent);margin-top:10px">Movimientos</div>
              <div id="moves" class="moves"></div>
            </div>

            <div class="card" id="species-card"></div>
          </div>

          <div>
            <div class="card">
              <div style="font-weight:700;color:var(--accent);margin-bottom:6px">JSON / Vista previa</div>
              <pre id="raw-json" class="json">No data fetched yet.</pre>
              <div style="margin-top:8px">
                <input id="raw-path" type="text" placeholder="Path arbitrario (ej. /api/v2/type/3)" style="width:100%;padding:8px;border-radius:6px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text)"/>
                <div style="display:flex;gap:8px;margin-top:8px">
                  <button id="raw-fetch">Fetch Path</button>
                  <button id="raw-json-toggle">Toggle JSON</button>
                </div>
              </div>
            </div>

            <div class="card" id="encounters-card" style="margin-top:12px">
              <div style="font-weight:700;color:var(--accent);margin-bottom:6px">Encuentros</div>
              <div id="encounters"></div>
            </div>
          </div>
        </div>

        <footer>Consejo: usa el campo de bÃºsqueda para autocompletar. Haz click en tipos/habilidades/movimientos para ver mÃ¡s detalles en el panel JSON.</footer>
      </main>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
